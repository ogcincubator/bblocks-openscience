"$schema": https://json-schema.org/draft/2020-12/schema
description: 'EarthCode Experiment'
allOf:
  - $ref: bblocks://ogc.osc.geodcat-stac-earthcode.common
  - $ref: bblocks://ogc.geo.geodcat.geodcat-records
properties:
  properties:
    type: object
    required:
      - osc:workflow
    properties:
      osc:workflow:
        $ref: bblocks://ogc.osc.geodcat-stac-earthcode.common#/definitions/osc:workflow
  links:
    type: array
    items:
      oneOf:
        - title: Other Link
          properties:
            rel:
              not:
                enum:
                  - via
                  - input
                  - environment
        - title: Link to Input Parameter
          properties:
            rel:
              const: input
        - title: Link to Execution Environment
          properties:
            rel:
              const: environment
        - $ref: bblocks://ogc.osc.geodcat-stac-earthcode.common#/definitions/via_links
